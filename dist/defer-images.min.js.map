{"version":3,"file":"defer-images.min.js","sources":["../lib/defer.js","../lib/defer-images.js","../lib/defer-bg.js","../lib/defer-dom.js"],"names":["window","defer","debug","imgs","loadTimes","showConsole","allIn","dur","int","counts","total","lastInView","loading","start","el","dom","watchDom","this","setInterval","length","destroy","images","checkAll","bg","check","done","stopWatching","trace","obj","type","undefined","console","push","clearInterval","add","src","getAttribute","index","loaded","inView","loadImg","imgLoaded","event","srcElement","className","onload","Date","getTime","loadStart","removeLoaded","i","tmp","enabled","batchSize","speeds","modem","speed","batch","edge","dsl","cable","scrollDir","getScrollDir","findSpeed","found","up","loadIfShould","down","len","view","avg","key","group","sum","x","observer","container","lastScrollPos","MutationObserver","mutations","forEach","mutation","findImgs","addedNodes","observe","attributes","childList","characterData","subTree","attributeFilter","disconnect","nodes","node","childNodes","classList","contains","box","getBoundingClientRect","bottom","innerHeight","document","documentElement","clientHeight","visible","top","supportPageOffset","pageXOffset","isCSS1Compat","compatMode","y","pageYOffset","scrollTop","body","dir"],"mappings":"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"}