{"version":3,"file":"defer-images.min.js","sources":["../lib/defer.js","../lib/defer-bg.js"],"names":["window","defer","debug","imgs","loadTimes","showConsole","allIn","dur","int","loading","loaded","active","callback","listen","this","addEvent","winLoaded","setInterval","run","addCallback","loadCallback","removeLoaded","length","destroy","checkAll","bg","check","add","el","src","getAttribute","index","push","browserSupports","loadImg","imgLoaded","event","getTarget","now","Date","getTime","trace","removeEvent","loadStart","imgError","img","setAttribute","i","tmp","inView","box","getBoundingClientRect","bottom","innerHeight","document","documentElement","clientHeight","top","clearInterval","avg","batchSize","found","obj","type","undefined","console","body","attachEvent","addEventListener","target","srcElement","name","removeEventListener","detachEvent","enabled","speeds","lbl","speed","batch","findSpeed","findImgs","batchFull","x","group","sum","len","div","isNaN","parseFloat","toPrecision"],"mappings":"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"}