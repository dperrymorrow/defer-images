{"version":3,"file":"defer-images.min.js","sources":["../lib/defer-images.js","../lib/defer-bg.js","../lib/defer-dom.js"],"names":["window","defer","debugInfo","showConsole","trace","obj","type","undefined","console","this","push","images","observer","imgs","listening","allRegistered","lastScrollPos","scrollDir","className","scrollDelay","counts","lastInView","loading","start","el","MutationObserver","mutations","forEach","mutation","findImgs","addedNodes","observe","attributes","childList","characterData","subTree","attributeFilter","nodes","i","node","length","childNodes","classList","contains","add","done","disconnect","src","getAttribute","loaded","listen","inView","loadImg","viewPort","setInterval","recordScroll","checkAll","bg","destroy","clearInterval","deferImages","imgLoaded","event","srcElement","onload","loadTimes","Date","getTime","loadStart","removeLoaded","tmp","deferBg","supportPageOffset","pageXOffset","isCSS1Compat","document","compatMode","y","pageYOffset","documentElement","scrollTop","body","box","getBoundingClientRect","bottom","innerHeight","clientHeight","index","top","bgDelay","enabled","d","guessNext","dom","watchDom","getScrollY"],"mappings":"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"}