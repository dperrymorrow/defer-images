{"version":3,"file":"defer-images.min.js","sources":["../lib/defer.js","../lib/defer-bg.js"],"names":["window","defer","debug","imgs","loadTimes","showConsole","allIn","dur","domWait","domTimer","int","loading","loaded","active","callback","listen","this","addEvent","winLoaded","run","addCallback","removeLoaded","length","destroy","checkAll","bg","check","setTimeout","add","el","src","getAttribute","index","push","clearInterval","browserSupports","loadImg","imgLoaded","event","getTarget","now","Date","getTime","trace","removeEvent","loadStart","imgError","img","setAttribute","i","tmp","inView","box","getBoundingClientRect","bottom","innerHeight","document","documentElement","clientHeight","top","avg","batchSize","found","obj","type","undefined","console","body","attachEvent","addEventListener","target","srcElement","name","removeEventListener","detachEvent","enabled","speeds","lbl","speed","batch","findSpeed","findImgs","batchFull","x","group","sum","len","div","isNaN","parseFloat","toPrecision"],"mappings":"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"}