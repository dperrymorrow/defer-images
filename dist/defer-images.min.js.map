{"version":3,"file":"defer-images.min.js","sources":["../lib/defer.js","../lib/defer-images.js","../lib/defer-bg.js","../lib/defer-dom.js"],"names":["window","defer","debug","imgs","loadTimes","showConsole","allIn","dur","int","counts","total","lastInView","loading","start","el","dom","watchDom","this","setInterval","length","destroy","images","checkAll","bg","check","done","stopWatching","trace","obj","type","undefined","console","push","clearInterval","add","src","getAttribute","index","loaded","inView","loadImg","imgLoaded","event","srcElement","className","onload","Date","getTime","loadStart","removeLoaded","i","tmp","enabled","allDown","allUp","batchSize","dir","getScrollDir","found","scrollDir","up","loadIfShould","log","batchIsFull","down","len","view","observer","container","lastScrollPos","MutationObserver","mutations","forEach","mutation","findImgs","addedNodes","observe","attributes","childList","characterData","subTree","attributeFilter","disconnect","nodes","node","childNodes","classList","contains","box","getBoundingClientRect","bottom","innerHeight","document","documentElement","clientHeight","visible","top","supportPageOffset","pageXOffset","isCSS1Compat","compatMode","y","pageYOffset","scrollTop","body"],"mappings":"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"}