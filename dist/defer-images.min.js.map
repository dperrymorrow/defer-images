{"version":3,"file":"defer-images.min.js","sources":["../lib/defer.js","../lib/defer-bg.js"],"names":["window","defer","debug","imgs","loadTimes","showConsole","allIn","dur","int","loading","loaded","active","callback","listen","this","addEvent","winLoaded","setInterval","run","addCallback","removeLoaded","length","destroy","checkAll","bg","check","add","el","src","getAttribute","index","push","browserSupports","loadImg","imgLoaded","event","getTarget","now","Date","getTime","trace","removeEvent","loadStart","imgError","img","setAttribute","i","tmp","inView","box","getBoundingClientRect","bottom","innerHeight","document","documentElement","clientHeight","top","clearInterval","avg","batchSize","found","obj","type","undefined","console","body","attachEvent","addEventListener","target","srcElement","name","removeEventListener","detachEvent","enabled","speeds","lbl","speed","batch","findSpeed","findImgs","batchFull","x","group","sum","len","div","isNaN","parseFloat","toPrecision"],"mappings":"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"}